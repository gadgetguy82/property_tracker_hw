# CRUD Quiz

Use the solution to this afternoon's Property Tracker lab to answer the following questions. Please write your answers under each question, push the file to GitHub, and submit in the usual way.

## MVP Questions

In our Property Tracker application:

Q1. Where are we instantiating instances of the Property class?
We instantiate it in console.rb.

Q2. Where are we defining the SQL that enables us to save the ruby Property object into the database?
In our save method we define an SQL query and assign the sql variable to it.

Q3. In console.rb, which lines modify the database?
The method call by the object to save e.g. property1.save.

Q4. Why do we not define the id of a Property object at the point we instantiate it (‘new it up’)?
We do not know what the id will be when we add it to the database. The id of the row is only known by the id field with SERIAL.

Q5. Where and how do we assign the property id (that is generated by the database) to the ruby object?
In our save method, we have the SQL query return the values after it has been added to the database and then we assign @id to it.

Q6. Why do we put a guard (an ‘if’ clause) on the @id attribute in the constructor?
We need to check that, when we instantiate the object, there will be an id argument to assign @id.

Q7. Why are some of the CRUD actions represented by instance methods, and others, class methods?
Some actions only make sense to use after an object has been instantiated and therefore we can use instance methods.
In other cases it doesn't make sense to instantiate an object just to call the method e.g. delete_all.

Q8. What type of data structure is returned by db.exec() and db.exec_prepared(), and how do we index into it to pull out a desired attribute?
An array of hashes is returned by these methods. We can index into the array firstly with [0], [1],... etc.
We then access the value associated with the keys which are the fields in our table in the database via ['key'].

Q9. Why do we use prepared statements when performing database operations?
To protect against attacks on our database which could read, update or delete our data.

## Extension Questions

Look at the `find_by_id` and `find_by_address` methods in the Property class.

Q10. What do they take in as their arguments?
They will take an id integer value and an address string value respectively

Q11. What are their return values?
They will return an array of hashes and a Property object respectively
